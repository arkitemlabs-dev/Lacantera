'use client';
import{useState}from'react';import{migrateMockData}from'@/app/actions/migrate-data';import{Button}from'@/components/ui/button';import{Card,CardContent,CardDescription,CardHeader,CardTitle}from'@/components/ui/card';import{Alert,AlertDescription,AlertTitle}from'@/components/ui/alert';import{CheckCircle2,XCircle,Loader2,Database}from'lucide-react';export default function MigratePage(){const[loading,setLoading]=useState(false);const[resultado,setResultado]=useState<any>(null);const ejecutarMigracion=async()=>{setLoading(true);setResultado(null);try{const result=await migrateMockData();setResultado(result)}catch(error:any){setResultado({success:false,error:error.message})}finally{setLoading(false)}};return(<div className="container mx-auto p-8 max-w-4xl"><Card><CardHeader><div className="flex items-center gap-2"><Database className="h-6 w-6"/><CardTitle>Migración de Datos Mock</CardTitle></div><CardDescription>Migrar datos de prueba a Firestore</CardDescription></CardHeader><CardContent className="space-y-6"><Button onClick={ejecutarMigracion}disabled={loading}size="lg"className="w-full">{loading?(<><Loader2 className="mr-2 h-4 w-4 animate-spin"/>Migrando datos...</>):(<><Database className="mr-2 h-4 w-4"/>Ejecutar Migración</>)}</Button>{resultado&&resultado.success&&(<Alert className="border-green-500 bg-green-500/10"><CheckCircle2 className="h-4 w-4 text-green-500"/><AlertTitle className="text-green-500">¡Migración Exitosa!</AlertTitle><AlertDescription>{resultado.message}</AlertDescription></Alert>)}</CardContent></Card></div>)}
